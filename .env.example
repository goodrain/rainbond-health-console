# Rainbond Health Console Configuration Example
# Copy this file to .env and update with your actual values

# ============================================
# Basic Configuration
# ============================================

# Metrics server port
METRICS_PORT=9090

# Collection interval (e.g., 30s, 1m, 5m)
COLLECT_INTERVAL=30s

# GRData directory path to monitor
GRDATA_PATH=/grdata

# Node load thresholds (percentage)
NODE_CPU_THRESHOLD=80.0
NODE_MEMORY_THRESHOLD=80.0

# Run in Kubernetes cluster (true when deployed in K8s)
IN_CLUSTER=true


# ============================================
# Database Configuration (Multiple instances supported)
# ============================================
# Format: DB_N_* where N is the instance number (1, 2, 3, ...)

# Database Instance 1 - Internal Database
DB_1_NAME=internal-mysql
DB_1_HOST=mysql.database.svc.cluster.local
DB_1_PORT=3306
DB_1_USER=root
DB_1_PASSWORD=your-mysql-password
DB_1_DATABASE=mysql

# Database Instance 2 - External Database (Optional)
# DB_2_NAME=external-mysql
# DB_2_HOST=192.168.1.100
# DB_2_PORT=3306
# DB_2_USER=root
# DB_2_PASSWORD=your-external-password
# DB_2_DATABASE=mysql


# ============================================
# Container Registry Configuration (Multiple instances supported)
# ============================================
# Format: REGISTRY_N_* where N is the instance number (1, 2, 3, ...)

# Registry Instance 1 - Internal Registry
REGISTRY_1_NAME=internal-registry
REGISTRY_1_URL=registry.cluster.local
REGISTRY_1_USER=admin
REGISTRY_1_PASSWORD=your-registry-password
REGISTRY_1_INSECURE=false

# Registry Instance 2 - External Registry (Optional)
# REGISTRY_2_NAME=dockerhub
# REGISTRY_2_URL=https://registry.hub.docker.com
# REGISTRY_2_USER=
# REGISTRY_2_PASSWORD=
# REGISTRY_2_INSECURE=false


# ============================================
# MinIO / S3 Configuration
# ============================================

# MinIO endpoint (leave empty to skip MinIO monitoring)
MINIO_ENDPOINT=minio.storage.svc.cluster.local:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_USE_SSL=false


# ============================================
# Usage Examples
# ============================================

# Local development (outside Kubernetes):
# export IN_CLUSTER=false
# export DB_1_HOST=localhost
# go run main.go

# Docker run:
# docker run -d -p 9090:9090 --env-file .env rainbond-health-console:latest

# Kubernetes deployment:
# Create ConfigMap and Secret from this file, then deploy
# See deploy/kubernetes/ for deployment manifests
